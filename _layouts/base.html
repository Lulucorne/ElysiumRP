<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="{{ '/assets/styles.css' | relative_url }}" />
  </head>
  <body>
    <header class="site-header">
      <a class="brand" href="{{ '/' | relative_url }}">
        <img class="brand-logo" src="{{ '/assets/logo.png' | relative_url }}" alt="Logo" />
        <span class="brand-name">{{ site.title }}</span>
      </a>

      <nav class="nav">
        <a href="{{ '/' | relative_url }}"
           class="{% if page.url == '/' %}active{% endif %}"
           {% if page.url == '/' %}aria-current="page"{% endif %}>Home</a>

        <a href="{{ '/characters/' | relative_url }}"
           class="{% if page.url == '/characters/' %}active{% endif %}"
           {% if page.url == '/characters/' %}aria-current="page"{% endif %}>Characters</a>

        <a href="{{ '/rules/' | relative_url }}"
           class="{% if page.url == '/rules/' %}active{% endif %}"
           {% if page.url == '/rules/' %}aria-current="page"{% endif %}>Rules</a>

        <a href="{{ '/lore/' | relative_url }}"
           class="{% if page.url == '/lore/' %}active{% endif %}"
           {% if page.url == '/lore/' %}aria-current="page"{% endif %}>Lore</a>

        <a href="{{ '/apply/' | relative_url }}"
           class="{% if page.url == '/apply/' %}active{% endif %}"
           {% if page.url == '/apply/' %}aria-current="page"{% endif %}>Apply</a>
      </nav>
    </header>

    <main class="page">
      {{ content }}
    </main>
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
      const glow = document.createElement("div");
      glow.className = "cursor-glow";
      document.body.appendChild(glow);

      let x = 0, y = 0;
      let targetX = 0, targetY = 0;
      const speed = 0.15; // trail smoothness

      document.addEventListener("mousemove", (e) => {
        targetX = e.clientX;
        targetY = e.clientY;
      });

      function animate() {
        x += (targetX - x) * speed;
        y += (targetY - y) * speed;
        glow.style.transform = `translate(${x - 12}px, ${y - 12}px)`;
        requestAnimationFrame(animate);
      }

      animate();
    });
    </script>
  </body>
</html>
